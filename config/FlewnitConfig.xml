<!-- -->

<flewnitGlobalConfig>

	<!-- convention: lower case names for everythin but proper names and class names -->

	<generalSettings>
		<pathToData type="STRING" value="." />

		<!-- simulationPipelineConfig type="STRING" value="SimulationPipeLineConfig.xml"/ -->

		<sceneFile type="STRING" value="../Assets/LakeScene/LakeScene.blend" />

		<sceneAnnotationsFile type="STRING" value="LakeSceneAnnotations.xml" />
		
		<disableMemoryTrackingLogging type="BOOL" value="true"/>

	</generalSettings>


	<UI_Settings>

		<windowSettings>

			<mediaLayer type="STRING" value="GLFW" />

			<windowTitle type="STRING" value="Flewnit" />

			<fullScreen type="BOOL" value="false"/>

			<enforceCustomResolutionInFullScreen type="BOOL" value="false" />

			<resolution type="VEC2I" x="400" y="200" GUIVisibility="read" tweakConfigString="TODO"/>
			<position type="VEC2I" x="500" y="450" GUIVisibility="read" tweakConfigString="TODO"/>
			
			<numMultiSamples type="INT" value ="1" />
			
		</windowSettings>
		
		
		<OpenGL_Settings>
			<contextVersion type="VEC2I" x="3" y="3" />
			<enforceCoreProfile type="BOOL" value="true" />
		</OpenGL_Settings>
		
		
		<OpenCL_Settings>
			<contextVersion type="VEC2I" x="1" y="0" />	
			<deviceType type="STRING" value="GPU" />
		</OpenCL_Settings>

		
		<inputSettings>

			<grabMouse type="BOOL" value="false" />

			<enableWiimote type="BOOL" value="false" />

		</inputSettings>


		<!-- maybe GUI config to come... -->

	</UI_Settings>



	<simulators>
		<!--  -->

		<Simulator>
			<Type type="STRING" value="SPHFluidMechanicsSimulator"/>

			<generalSettings>

				<targetMinSimulationStepsPerSecond type="INT" value="60" GUIVisibility="read/write"	tweakConfigString="TODO"/>
				<numFluidParticles type="INT" value="65536" GUIVisibility="read/write" tweakConfigString="TODO"/>
				<particleRadius type="FLOAT" value="1.0"		GUIVisibility="read/write" tweakConfigString="TODO"/>


				<fluidParticleMass type="FLOAT" value="1.0" GUIVisibility="read/write" tweakConfigString="TODO"/>

				<particlesPerRigidBody type="INT" value="256" GUIVisibility="read/write" tweakConfigString="TODO"/>

				<particelizeBordersOnly type="BOOL" value ="false" GUIVisibility="read" tweakConfigString="TODO"/>

				<rigidBodyParticleMass type="FLOAT" value="0.5" GUIVisibility="read/write"
					tweakConfigString="TODO"/>

			</generalSettings>

			<SimulationPipelineStage>
				<Type type="STRING" value="UniformGridUpdater"/>

			</SimulationPipelineStage>
			



			<!-- the following  two stages two could be joined in trade of stability/accuracy-->
			
			<SimulationPipelineStage>
				<Type type="STRING" value="ParticleDensityComputation"/>

			</SimulationPipelineStage>
			
			<SimulationPipelineStage>
				<Type type="STRING" value="ParticlePressureComputation"/>

			</SimulationPipelineStage>



			<SimulationPipelineStage>
				<Type type="STRING" value="FluidParticleIntegrator"/>

			</SimulationPipelineStage>

			<!-- 
			<SimulationPipelineStage>
				<Type type="STRING" value="ParticleizedRigidBodyIntegrator"/>

			</SimulationPipelineStage>
			-->
			




		</Simulator>

		<Simulator>
			<Type type="STRING" value="LightingSimulator"/>

			<generalSettings>
				<Camera>
					<position type="VEC3" x="0.0" y="0.0" z="10.0" />
					<direction type="VEC3" x="0.0" y="0.0" z="-1.0" />
					<up type="VEC3" x="0.0" y="1.0" z="0.0" />				
					<openingAngleVerticalDegrees type="FLOAT" value="45.0"/>
					<movementSpeed type="FLOAT" value="0.5"/>		
				</Camera>
				
				<GlobalShadingFeatures>
					<lightSourcesLightingFeature type="STRING" value="LIGHT_SOURCES_LIGHTING_FEATURE_ONE_POINT_LIGHT"/>
					<lightSourcesShadowFeature type="STRING" value="LIGHT_SOURCES_SHADOW_FEATURE_NONE"/>
					<shadowTechnique type="STRING" value="SHADOW_TECHNIQUE_NONE"/>
					<numMaxLightSources type="INT" value="1"/>
					<numMaxShadowCasters type="INT" value="1"/>
					<numMaxInstancesRenderable type="INT" value="16"/>
					<GBufferType type="STRING" value="TEXTURE_TYPE_2D_RECT"/>	
					
					<shaderCodeDirectory type="STRING" value="./src/MPP/Shader/ShaderSources" />		
				</GlobalShadingFeatures>

			</generalSettings>

			
			<SimulationPipelineStage>
				<Type type="STRING" value="SkyBoxRenderer"/>

			</SimulationPipelineStage>
						
			<SimulationPipelineStage>
				<Type type="STRING" value="ShadowMapGenerator"/>

			</SimulationPipelineStage>
						
			<SimulationPipelineStage>
				<Type type="STRING" value="ShadowedLightingStage"/>

			</SimulationPipelineStage>
						


			<!-- Fluid rendering specific stages to go -->
			
		</Simulator>


	</simulators>




</flewnitGlobalConfig>
